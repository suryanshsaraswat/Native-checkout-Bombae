<style>
  .cont-main-image img {
    width: 100%;
    padding: 15px
  }
  .main-rewards-container {
    padding-bottom: 11px;
}
  div#nt_content {
    background: #fff;
    background-image: url(https://cdn.shopify.com/s/files/1/0459/6563/9834/files/background-rewardspage.png?v=1695103748);
    background-repeat: no-repeat;
    background-size: 100%;
}
.rewards-heading h2 {
  line-height: 31px;
  font-size: 25px;
  font-weight: 300;
  color: #fff;
}
  .rewards-heading {
    max-width: 100%;
    width: 300px;
    margin: -8px auto 0;
  }
  span.purp-strp {
    font-weight: 700;
    background: #6b24b2;
    background: linear-gradient(90deg, rgba(252,154,194,1) 0%, rgba(252,154,194,1) 17%, rgba(219,51,240,1) 100%);
    color: #fff;
    padding: 2px 10px;
    line-height: 39px;
    border-radius: 7px;
  }
  .form-items {
    max-width: 100%;
    width: 300px;
    margin: 0 auto;
}
a#authenticator_product {
  max-width: 100%;
  display: block;
  text-align: center;
  background: rgb(252,154,194);
  background: linear-gradient(90deg, rgba(252,154,194,1) 0%, rgba(252,154,194,1) 17%, rgba(219,51,240,1) 100%);
  margin: 10px 0;
  padding: 4px;
  color: #ffff;
  border-radius: 4px;
  text-transform: uppercase;
}
.child-form input {
    background: #0000002e;
    text-transform: lowercase;
}
.child-form {
    margin: 13px 0px;
}
label.child-labels {
    font-size: 10px;
    color: #fff;
    text-transform: uppercase;
    letter-spacing: 1px;
}
div#step-1 {
    display: block;
}
#order_input{transition: :0.4s;}
.wind-check {
    max-width: 100%;
    width: 48%;
    margin: 0 auto;
    padding-top: 45px;
}
.coup {
    max-width: 100%;
    padding-top: 30px;
    text-align: center;
    color: #fff;
}
.produ h2 {
    font-size: 20px;
    text-align: center;
    color: #fff;
    font-weight: 300;
    line-height: 23px;
}
span.auth {
    text-transform: uppercase;
    font-weight: 700;
}
span.cod{background: rgb(252,154,194);
background: linear-gradient(90deg, rgba(252,154,194,1) 0%, rgba(252,154,194,1) 17%, rgba(219,51,240,1) 100%);padding: 4px 12px;
border-radius: 8px;}
</style>
<div class="main-rewards-container">
  <div class="step-1" id="step-1">
    <div class="rewards-cont">
    <div class="cont-main-image">
      <h2><img src="https://cdn.shopify.com/s/files/1/0577/1368/8771/files/Group_95.png?v=1692862362" alt="rewards banner"></h2>
    </div>
  </div>
  <div class="rewards-heading">
    <h2>Authenticate your<br> product and<br><span class="purp-strp">get a reward</span>
    </h2>
  </div>
  <div class="rewards-form">
    <div class="form-items">
      <div class="child-form name">
        <label for="" class="child-labels name">NAME</label>
        <input type="text" class="name" placeholder="Enter your name" id="name" required></input>
      </div>
      <div class="child-form email">
        <label for="" class="child-labels email">EMAIL</label>
        <input type="email" class="email" placeholder="ENTER EMAIL" id="email-id" required></input>
      </div>
      <div class="child-form phone">
        <label for="" class="child-labels phone">PHONE</label>
        <input type="tel" class="telephone" placeholder="ENTER PHONE" id="phone" required></input>
      </div>
      <div class="child-form product-selection">
        <label for="" class="child-labels prod-selection">Select your product</label>
         <select name="product_dropdown" id="product_dropdown" required>
          <option value="">
            Select your purchased product(s)
              </option>
          {% for product in collections.all.products %}
            <option value="{{ product.id }}" multiple>
              <img src="{{ product.featured_image | img_url:'400x' }}" alt="{{ product.title }}" width="50">
              {{ product.title }}
              </option>
            {% endfor %}
            </select>
      </div>
      <div class="child-form channel-selection" required>
        <label for="" class="child-labels channel-select">SELECT CHANNEL</label>
        <select id="channel-dropdown" placeholder = "select ypur channel" id="channel">
          <option value="" selected>Select a Channel</option>
          <option value="shopify">D2C</option>
          <option value="amazon">Amazon</option>
          <option value="flipkart">Flipkart</option>
          <option value="nykaa">Nykaa</option>
          <option value="myntra">Myntra</option>
          <option value="meesho">Meesho</option>
          <option value="blinkit">Blinkit</option>
          <option value="zepto">Zepto</option>
          <option value="instamart">Instamart</option>
          <!-- Add more options as needed -->
          </select>
      </div>
      {% comment %} <div class="child-form shop-order-id" id="order_input" style="display:none">
        <label for="" class="child-labels shopify-order_id">ENTER LAST 4 DIGITS OF ORDER ID</label>
        <input type="number" maxlength="4" class="shopify-id"></input>
      </div> {% endcomment %}
      <div class="child-form authenticate">
        <a id="authenticator_product" href="#" target="_blank">Authenticate your product</a>
      </div>
    </div>
  </div>
  </div>
  <div class="step-2" id="step-2" style="display: none;">
    <div class="wind-check">
      <h2><img src="https://cdn.shopify.com/s/files/1/0577/1368/8771/files/Group_93.png?v=1695105721" alt="product authenticated"></h2>
    </div>
    <div class="produ">
      <h2>Your Product is <br><span class="auth">authenticated</span></h2>
    </div>
    <div class="coup">
      <p>Here is a coupon code to get <br> <span class="fla">FLAT 20% OFF</span>sitewide</p>
      <span class="cod">BAE20</span>
    </div>
  </div>
</div>
<script>
  // Get references to the dropdown and button
  const dropdown = document.getElementById('channel-dropdown');
  const dynamicButton = document.getElementById('authenticator_product');
  const shopifyInput = document.getElementById('order_input');
  const toggleStepButton = document.getElementById("authenticator_product");
  const step1 = document.getElementById("step-1");
  const step2 = document.getElementById("step-2");
  const name = document.getElementById('name');
  const emailId = document.getElementById('email-id');
  const productDropdown = document.getElementById('product_dropdown');
  const channel = document.getElementById('channel');

  // Define the links corresponding to each dropdown option
  const linkMap = {
      amazon: 'https://www.amazon.in/gp/css/order-history?ref_=nav_orders_first',
      flipkart:'https://www.flipkart.com/account/orders?link=home_orders',
      nykaa:'https://www.nykaa.com/sales/order/history/v2?ptype=myOrder',
      blinkit:'https://blinkit.com/account/orders',
      zepto:'https://www.zeptonow.com/account/orders',
      instamart:'https://mybombae.in/collections/body',
      myntra:'https://www.myntra.com/my/orders',
      meesho:'https://www.meesho.com/orders'
      // Add more links as needed
  };
  // Add an event listener to the dropdown
  dropdown.addEventListener('input', function() {
        const selectedValue = dropdown.value;
        if (linkMap[selectedValue]) {
            dynamicButton.href = linkMap[selectedValue];
        }
    });


    // Function to hide step-1 and show step-2
    function toggleSteps() {
        step1.style.display = "none";
        step2.style.display = "block";
    }
    toggleStepButton.addEventListener("click", function () {
        if(
          name.value &&
          emailId.value &&
          productDropdown.value &&
          channel.value
        ) {
          setTimeout(toggleSteps, 3000);
        } else {
          alert("Please fill in all required fields.");
        }
    });
</script>
